# FastAPI with Kubernetes

This project contains a simple backend application built with FastAPI, containerized using Docker, and ready for deployment on a Kubernetes cluster.

## Prerequisites

Before you begin, make sure you have the following installed:
- [Docker](https://docs.docker.com/get-docker/)
- [kubectl](https://kubernetes.io/docs/tasks/tools/install-kubectl/)
- Access to a Kubernetes cluster (e.g., [Minikube](https://minikube.sigs.k8s.io/docs/start/), [Kind](https://kind.sigs.k8s.io/docs/user/quick-start/), or a cloud-based Kubernetes service).
- A container registry account, such as [Docker Hub](https://hub.docker.com/).

## How to Set Up and Run

### 1. Build and Push the Docker Image

First, you need to build the Docker image for the application and push it to your container registry.

```bash
# Replace 'your-dockerhub-username' with your Docker Hub username
export DOCKER_USERNAME=your-dockerhub-username
export IMAGE_NAME=fastapiwithkube

# Build the Docker image
docker build -t $DOCKER_USERNAME/$IMAGE_NAME:latest .

# Log in to Docker Hub (or your chosen registry)
docker login

# Push the image to the registry
docker push $DOCKER_USERNAME/$IMAGE_NAME:latest
```

### 2. Update the Kubernetes Deployment

Next, you need to update the `kubernetes/deployment.yaml` file to point to the image you just pushed.

Open `kubernetes/deployment.yaml` and find the following line:

```yaml
image: your-dockerhub-username/fastapiwithkube:latest
```

Replace `your-dockerhub-username` with your actual Docker Hub username. For example:

```yaml
image: jittarinjet/fastapiwithkube:latest
```

### 3. Deploy to Kubernetes

Now you can apply the Kubernetes configurations to your cluster.

```bash
# Apply the deployment to create the pods
kubectl apply -f kubernetes/deployment.yaml

# Apply the service to expose the application
kubectl apply -f kubernetes/service.yaml
```

### 4. Access the Application

After a few moments, your service will be up and running. To find the external IP address to access your application, run:

```bash
kubectl get service fastapi-service
```

Look for the `EXTERNAL-IP` address in the output. If you are using a local cluster like Minikube, you might need to run `minikube service fastapi-service` to get the URL.

Once you have the IP address or URL, you can access the application in your browser or using a tool like `curl`:

- **Root endpoint:** `http://<EXTERNAL-IP>/`
- **Items endpoint:** `http://<EXTERNAL-IP>/items/5?q=somequery`

---
*This README was generated by GitHub Copilot.*
